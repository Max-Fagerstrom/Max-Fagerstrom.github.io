<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Gold Beer and Elvish Blood</title><meta name="description" content="This project was a game project for my education at Futuregames. It is a fantasy tower defence RTS where you take on elivish hoardes of&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://max-fagerstrom.github.io/gold-beer-and-elvish-blood.html"><link rel="alternate" type="application/atom+xml" href="https://max-fagerstrom.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://max-fagerstrom.github.io/feed.json"><meta property="og:title" content="Gold Beer and Elvish Blood"><meta property="og:site_name" content="Max Fagerström"><meta property="og:description" content="This project was a game project for my education at Futuregames. It is a fantasy tower defence RTS where you take on elivish hoardes of&hellip;"><meta property="og:url" content="https://max-fagerstrom.github.io/gold-beer-and-elvish-blood.html"><meta property="og:type" content="article"><link rel="preload" href="https://max-fagerstrom.github.io/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://max-fagerstrom.github.io/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://max-fagerstrom.github.io/assets/css/style.css?v=aca50f00328abb7b6ee02461f2cce3be"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://max-fagerstrom.github.io/gold-beer-and-elvish-blood.html"},"headline":"Gold Beer and Elvish Blood","datePublished":"2024-11-17T15:05+01:00","dateModified":"2024-11-17T16:04+01:00","description":"This project was a game project for my education at Futuregames. It is a fantasy tower defence RTS where you take on elivish hoardes of&hellip;","author":{"@type":"Person","name":"Max Fagerström","url":"https://max-fagerstrom.github.io/authors/max-fagerstroem/"},"publisher":{"@type":"Organization","name":"Max Fagerström"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="page-template"><div class="container container--center"><header class="header"><div class="header__logo"><a class="logo" href="https://max-fagerstrom.github.io/">Max Fagerström</a></div><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://max-fagerstrom.github.io/" target="_self">Home</a></li><li><a href="https://max-fagerstrom.github.io/demos.html" target="_self">Demos</a></li><li><span class="is-separator">|</span></li><li><a href="https://max-fagerstrom.github.io/portfolio.html" target="_self">Portfolio</a></li><li><a href="https://github.com/Max-Fagerstrom" target="_blank">GitHub</a></li></ul></nav></header><main class="content page"><article class="post"><header><h1 class="post__title">Gold Beer and Elvish Blood</h1></header><div class="post__entry"><figure class="post__image post__image--wide"><img loading="lazy" src="https://max-fagerstrom.github.io/media/posts/3//amxS1.png" alt="" width="555" height="247" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://max-fagerstrom.github.io/media/posts/3//responsive/amxS1-xs.png 300w, https://max-fagerstrom.github.io/media/posts/3//responsive/amxS1-sm.png 480w, https://max-fagerstrom.github.io/media/posts/3//responsive/amxS1-md.png 768w, https://max-fagerstrom.github.io/media/posts/3//responsive/amxS1-lg.png 1024w"></figure><p><span class="wixui-rich-text__text" data-darkreader-inline-color="">This project was a game project for my education at Futuregames. It is a fantasy tower defence RTS where you take on elivish hoardes of enemies. My work on this project was mostly on AI and Pathfinding.</span></p><p><a href="https://futuregames.itch.io/gold-beer-and-elvish-blood" target="_blank" rel="noopener noreferrer">Itch.io</a></p><p><a href="https://github.com/Max-Fagerstrom/portfolio/tree/main/goldbeerelvishblood" target="_blank" rel="noopener noreferrer">View source code (github)</a></p><hr><h2>Flow Field AI</h2><div id="comp-m35px0ej3" class="HcOXKn c9GqVL QxJLC3 lq2cno comp-m35px0ej3 wixui-rich-text" data-testid="richTextElement"><p class="font_8 wixui-rich-text__text"><span class="color_38 wixui-rich-text__text">For this project it was decided that we wanted to implement a custom AI system in unreal, with crowding behaviour, as we wanted a bunch of enemies attacking the player. I initially implemented this using the default Unreal navmesh system, but i ran into performance issues quite quickly. We discovered a relativly new technique of pathfinding called flow field pathfinding that was ideal for simulating crowding behaviour.</span></p><p><span class="color_38 wixui-rich-text__text">This works by instead of pathing from the enemy to the target, each target generates a direction vector in for each node in a radius on the navmesh, all the enemies have to do is get the closest node and adjust direction based on that vector.</span></p><figure class="post__image post__image--wide"><img loading="lazy" src="https://max-fagerstrom.github.io/media/posts/3//image.png" alt="" width="1228" height="575" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://max-fagerstrom.github.io/media/posts/3//responsive/image-xs.png 300w, https://max-fagerstrom.github.io/media/posts/3//responsive/image-sm.png 480w, https://max-fagerstrom.github.io/media/posts/3//responsive/image-md.png 768w, https://max-fagerstrom.github.io/media/posts/3//responsive/image-lg.png 1024w"></figure><p class="font_8 wixui-rich-text__text"><span class="color_38 wixui-rich-text__text">I implemented a lazily initialized navmesh structure that divided the  world into nodes with a adjustable size, the navmesh does not have a spartial limit as it is able to map any coordinate, but does not initialize a coordinate until it is used. The navmesh is completely 2D and does not support nodes on top of each other, as we did not need it for this game. the navmesh bakes node heights in the Unreal editor, using raycasting to find its height on the world mesh.</span></p><figure class="post__video"><video loading="lazy" width="300" height="150" controls="controls" data-mce-fragment="1"><source src="media/navgen.mp4" type="video/mp4"></video></figure><p><span class="color_38 wixui-rich-text__text">The enemies implement a boid like behaviour for movement, based on a avoidance vector, a cohesion vector and target path vector from the flowfield nodegraph.</span></p><figure class="post__video"><video loading="lazy" width="300" height="150" controls="controls" data-mce-fragment="1"><source src="media/moving.mp4" type="video/mp4"></video></figure><hr><p> </p></div></div></article></main><footer class="footer"><div class="footer__inner"><div class="footer__copyright"><p>© 2024 Max Fagerström</p></div></div></footer></div><script defer="defer" src="https://max-fagerstrom.github.io/assets/js/scripts.min.js?v=c2232aa7558e9517946129d2a1b8c770"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>